syntax = "proto3";

package rpc;

service Connect {
  rpc NextArgs(NextArgsRequest) returns (NextArgsResponse) {}
  rpc Publish(Document) returns (NextArgsResponse) {}
}

message Document {
  string entry = 1;
  string operation = 2;
}

message NextArgsRequest {
  string public_key = 1;
  optional string document_view_id = 2;
}

message NextArgsResponse {
  uint64 log_id = 1;
  uint64 seq_num = 2;
  optional string backlink = 3;
  optional string skiplink = 4;
}